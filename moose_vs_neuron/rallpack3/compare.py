#!/usr/bin/env python

"""compare.py: Compare data generated by MOOSE and NEURON.

Last modified: Sat Jan 18, 2014  05:01PM

"""
    
__author__           = "Dilawar Singh"
__copyright__        = "Copyright 2013, NCBS Bangalore"
__credits__          = ["NCBS Bangalore", "Bhalla Lab"]
__license__          = "GPL"
__version__          = "1.0.0"
__maintainer__       = "Dilawar Singh"
__email__            = "dilawars@iitb.ac.in"
__status__           = "Development"

import os
import sys
from collections import defaultdict

def compare(mooseData, nrnData):
    for k in nrnData:
        print k

def txtToData(txt):
    """Convert text to data"""
    vecX = defaultdict(list)
    vecY = defaultdict(list)
    for line in txt.split("\n"):
        line = line.strip()
        pairs = line.split(",")
        if len(pairs) > 1:
            pairs = pairs[:-1]
        for i, pair in enumerate(pairs):
            pair = pair.strip()
            x, y = pair.split()
            vecX[i].append(float(x))
            vecY[i].append(float(y))
    return vecX, vecY

def main():
    mooseFile = sys.argv[1]
    nrnFile = sys.argv[2]
    
    with open(mooseFile, "r") as f:
        mooseData = txtToData(f.read())
    with open(nrnFile, "r") as f:
        nrnData = txtToData(f.read())
    compare(mooseData, nrnData)

if __name__ == '__main__':
    main()
